<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <video id="p1" crossorigin="anonymous"
        src="https://media.swissinfo.ch/media/video/99c422f3-b808-4a60-9cc3-39ade3561dbb/rendition/3e1a0c5a-4ee4-4ba2-8a3d-f14a2f5f5b2c.mp4"
        controls muted width="640" height="480"></video>
    <video id="p2" crossorigin="anonymous"
        src="https://rtsvodww-vh.akamaihd.net/i/journ-19h30/2020/5297d61c2fed35b6df600c7899625083/journ-19h30_20201116_full,_lr3,_lr1,_lr2,_sd,_hd,_fhd,.mp4.csmil/master.m3u8?subtitles=fr:sdh"
        controls muted width="640" height="480"></video>
    <script>

        let cachedCurrentTime = 0;
        const player = document.querySelector('#p1');
        const log = ({ type }) => { console.log(`event:${type.toUpperCase()}`, player.currentTime, cachedCurrentTime) };


        player.addEventListener('loadeddata', () => {
            setInterval(() => {
                cachedCurrentTime = player.currentTime;
            }, 500);
        });
        player.addEventListener('play', log);
        player.addEventListener('pause', log);
        player.addEventListener('seeking', log);
        player.addEventListener('seeked', log);



        let cachedCurrentTime2 = 0;
        const player2 = document.querySelector('#p2');

        const log2 = ({ type }) => { console.log(`event:${type.toUpperCase()}`, player2.currentTime, cachedCurrentTime2) };
        player2.addEventListener('loadeddata', () => {
            setInterval(() => {
                cachedCurrentTime2 = player2.currentTime;
            }, 500);
        });
        player2.addEventListener('play', log2);
        player2.addEventListener('pause', log2);
        player2.addEventListener('seeking', log2);
        player2.addEventListener('seeked', log2);

    </script>

</body>

</html>